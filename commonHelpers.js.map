{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateTimePicker = document.querySelector('#datetime-picker');\ndateTimePicker.style.width = '272px';\ndateTimePicker.style.height = '40px';\ndateTimePicker.style.fontSize = '16px';\ndateTimePicker.style.color = '#2E2F42';\ndateTimePicker.style.backgroundColor = 'FFFFFF';\ndateTimePicker.style.border = '1px solid #000000';\ndateTimePicker.style.boxShadow = '0 4px 8px #808080';\ndateTimePicker.style.borderRadius = '4px';\ndateTimePicker.style.marginBottom = '10px';\n\nconst startButton = document.querySelector('button[data-start]');\nstartButton.style.fontSize = '16px';\nstartButton.style.padding = '10px 20px';\nstartButton.style.backgroundColor = '#CFCFCF';\nstartButton.style.border = 'none';\nstartButton.style.borderRadius = '5px';\nstartButton.style.cursor = 'default';\nstartButton.style.color = '989898';\nstartButton.style.width = '75px';\nstartButton.style.height = '40px';\nstartButton.disabled = true;\n\nstartButton.addEventListener('mouseover', () => {\n  if (!startButton.disabled)\n    startButton.style.backgroundColor = \"#4E75FF\";\n});\nstartButton.addEventListener('mouseout', () => {\n    startButton.style.backgroundColor = \"#CFCFCF\";\n});\n\nlet countdownInterval;\nlet targetDate;\n\nstartButton.addEventListener('click', () => {\n    if (!targetDate) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please select a date and time before starting the countdown',\n        });\n        return;\n  }\n  \n    startButton.disabled = true;\n    startButton.style.backgroundColor = '#CFCFCF';\n    startButton.style.cursor = 'default';\n    dateTimePicker.disabled = true;\n\n    clearInterval(countdownInterval);\n    countdownInterval = setInterval(() => {\n        const now = new Date().getTime();\n        const distance = targetDate - now;\n\n        if (distance < 0) {\n            clearInterval(countdownInterval);\n            document.querySelector('span[data-days]').innerText = '00';\n            document.querySelector('span[data-hours]').innerText = '00';\n            document.querySelector('span[data-minutes]').innerText = '00';\n            document.querySelector('span[data-seconds]').innerText = '00';\n            iziToast.success({\n                title: 'Countdown finished',\n                message: 'The event has started!',\n            });\n            dateTimePicker.disabled = false;\n            startButton.disabled = true;\n            startButton.style.backgroundColor = '#CFCFCF';\n            startButton.style.cursor = 'default';\n            return;\n      }\n        const { days, hours, minutes, seconds } = convertMs(distance);\n        document.querySelector('span[data-days]').innerText = String(days).padStart(2, '0');\n        document.querySelector('span[data-hours]').innerText = String(hours).padStart(2, '0');\n        document.querySelector('span[data-minutes]').innerText = String(minutes).padStart(2, '0');\n        document.querySelector('span[data-seconds]').innerText = String(seconds).padStart(2, '0');\n    }, 1000);\n});\n\nconst timer = document.querySelector('.timer');\ntimer.style.display = 'flex';\ntimer.style.justifyContent = 'flex-start';\ntimer.style.gap = '24px';\ntimer.style.fontFamily = 'Montserrat';\n\nconst fields = document.querySelectorAll('.field');\nfields.forEach(field => {\n    field.style.textAlign = 'center';\n});\n\nconst values = document.querySelectorAll('.value');\nvalues.forEach(value => {\n    value.style.display = 'block';\n    value.style.fontSize = '40px';\n    value.style.color = '#2e2f42';\n});\n\nconst labels = document.querySelectorAll('.label');\nlabels.forEach(label => {\n    label.style.fontSize = '16px';\n    label.style.color = '#2E2F42';\n    label.style.textTransform = 'uppercase';\n});\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      targetDate = selectedDates[0];\n      if (targetDate && targetDate.getTime() > Date.now()) {\n        startButton.disabled = false;\n        startButton.style.backgroundColor = '#4E75FF';\n        startButton.style.cursor = 'pointer';\n      } else {\n        startButton.disabled = true;\n        startButton.style.backgroundColor = '#CFCFCF';\n        startButton.style.cursor = 'default';\n        iziToast.error({\n          title: 'Invalid Date',\n          message: 'Please select a future date and time.',\n        });\n      }\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}"],"names":["dateTimePicker","startButton","countdownInterval","targetDate","iziToast","now","distance","days","hours","minutes","seconds","convertMs","timer","fields","field","values","value","labels","label","options","selectedDates","flatpickr","ms"],"mappings":"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"}